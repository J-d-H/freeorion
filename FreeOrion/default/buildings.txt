include "shared_macros.txt"

BuildingType
    name = "BLD_CULTURE_ARCHIVES"
    description = "BLD_CULTURE_ARCHIVES_DESC"
    buildcost = 200
    buildtime = 200
    tags = "ANTIQUATED"
    location = Not All
    effectsgroups = [
        EffectsGroup          // These bonuses given to anyone
            scope = And [
                Planet
                OwnedBy TheEmpire Source.Owner
                Contains Source
                [[STANDARD_CONDITION_INFRA]]
            ]
            effects = [
                SetTargetResearch Value + Target.Construction * [[PRODUCTION_PER_INFRA]]
                SetTargetIndustry Value + Target.Construction * 2 * [[PRODUCTION_PER_INFRA]]
            ]

        EffectsGroup          // These bonuses given to anyone
            scope = And [
                Planet
                OwnedBy TheEmpire Source.Owner
                Contains Source
                [[STANDARD_CONDITION_POP]]
            ]
            effects = [
                SetTargetResearch Value + Target.Population * [[PRODUCTION_PER_POP]]
                SetTargetIndustry Value + Target.Population * 2 * [[PRODUCTION_PER_POP]]
            ]
    ]
    icon = "icons/building/archive.png"

BuildingType
    name = "BLD_IMPERIAL_PALACE"
    description = "BLD_IMPERIAL_PALACE_DESC"
    buildcost = 3
    buildtime = 10
    captureresult = destroy
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
    ]
    effectsgroups = [
        EffectsGroup
            scope = And [
                Planet
                OwnedBy TheEmpire Source.ProducedByEmpireID
                Contains Source
            ]
            effects = SetEmpireCapital

        EffectsGroup
            scope = And [
                Planet
                OwnedBy TheEmpire Source.ProducedByEmpireID
                Contains Source
            ]
            stackinggroup = "IMERIAL_PALACE_SUPPLY_EFFECT"
            effects = SetSupply Value + 3

        EffectsGroup
            scope = And [
                Planet
                OwnedBy TheEmpire Source.ProducedByEmpireID
                Contains Source
            ]
            activation = Not Number low = 1 And [
                Building "BLD_MEGALITH"
                OwnedBy TheEmpire Source.Owner
            ]
            stackinggroup = "IMPERIAL_PALACE_EFFECT"
            effects = [
                SetTargetConstruction Value + 20
                SetMaxDefense Value + 5
            ]

        EffectsGroup
            scope = And [
                Planet
                OwnedBy TheEmpire Source.ProducedByEmpireID
                Contains Source
                OwnerHasTech "DEF_ROOT_DEFENSE"
            ]
            effects = SetMaxTroops Value + 10
        ]
    icon = "icons/building/palace.png"

BuildingType
    name = "BLD_OBSERVATORY"
    description = "BLD_OBSERVATORY_DESC"
    buildcost = 60
    buildtime = 3
    location = OwnedBy TheEmpire Source.Owner
    effectsgroups =
        EffectsGroup
            scope = NumberOf 1 System
            effects = SetStealth Value - 1
    icon = "icons/building/lighthouse.png"

BuildingType
    name = "BLD_SHIPYARD_BASE"
    description = "BLD_SHIPYARD_BASE_DESC"
    buildcost = 10
    buildtime = 5
    tags = "ORBITAL"
    location = And [
        Not Contains And [
            Building "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
    ]
    icon = "icons/building/shipyard.png"

BuildingType
    name = "BLD_SHIPYARD_ORBITAL_DRYDOCK"
    description = "BLD_SHIPYARD_ORBITAL_DRYDOCK_DESC"
    buildcost = 20
    buildtime = 5
    tags = "ORBITAL"
    location = And [
        Contains And [
            Building name = "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
    ]
    effectsgroups =
        EffectsGroup
            scope = And [
                Ship
                InSystem id = Source.SystemID
                OwnedBy Source.Owner
                Structure high = LocalCandidate.MaxStructure - 0.001
            ]
            activation = Turn low = Source.System.LastTurnBattleHere + 1
            effects = [
                SetStructure Value + 10
                GenerateSitRepMessage
                    message = "EFFECT_DRYDOCK_SHIP_REPAIR"
                    parameters = [
                        tag = "ship" data = Target.ID
                        tag = "building" data = Source.ID
                        tag = "planet" data = Source.PlanetID
                    ]
                    empire = Source.Owner
            ]
    icon = "icons/building/shipyard-1.png"

BuildingType
    name = "BLD_SHIPYARD_CON_NANOROBO"
    description = "BLD_SHIPYARD_CON_NANOROBO_DESC"
    buildcost = 250
    buildtime = 5
    tags = "ORBITAL"
    location = And [
        Contains And [
            Building "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        Contains And [
            Building "BLD_SHIPYARD_ORBITAL_DRYDOCK"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
    ]
    icon = "icons/building/shipyard-2.png"

BuildingType
    name = "BLD_SHIPYARD_CON_GEOINT"
    description = "BLD_SHIPYARD_CON_GEOINT_DESC"
    buildcost = 750
    buildtime = 5
    tags = "ORBITAL"
    location = And [
        Contains And [
            Building "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        Contains And [
            Building "BLD_SHIPYARD_ORBITAL_DRYDOCK"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
    ]
    icon = "icons/building/shipyard-3.png"

BuildingType
    name = "BLD_SHIPYARD_CON_ADV_ENGINE"
    description = "BLD_SHIPYARD_CON_ADV_ENGINE_DESC"
    buildcost = 2000
    buildtime = 5
    tags = "ORBITAL"
    location = And [
        Contains And [
            Building "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        Contains And [
            Building "BLD_SHIPYARD_ORBITAL_DRYDOCK"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
    ]
    icon = "icons/building/shipyard-4.png"

BuildingType
    name = "BLD_SHIPYARD_AST"
    description = "BLD_SHIPYARD_AST_DESC"
    buildcost = 75
    buildtime = 5
    location = And [
        Contains And [
            Building "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
        Planet type = Asteroids
    ]
    icon = "icons/building/shipyard-5.png"

BuildingType
    name = "BLD_SHIPYARD_AST_REF"
    description = "BLD_SHIPYARD_AST_REF_DESC"
    buildcost = 500
    buildtime = 5
    location = And [
        Contains And [
            Building "BLD_SHIPYARD_AST"
            OwnedBy TheEmpire Source.Owner
        ]
        Contains And [
            Building "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
        Planet type = Asteroids
    ]
    icon = "icons/building/shipyard-6.png"

BuildingType
    name = "BLD_SHIPYARD_ORG_ORB_INC"
    description = "BLD_SHIPYARD_ORG_ORB_INC_DESC"
    buildcost = 30
    buildtime = 10
    tags = "ORBITAL"
    location = And [
        Contains And [
            Building "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
    ]
    icon = "icons/building/shipyard-7.png"

BuildingType
    name = "BLD_SHIPYARD_ORG_CELL_GRO_CHAMB"
    description = "BLD_SHIPYARD_ORG_CELL_GRO_CHAMB_DESC"
    buildcost = 50
    buildtime = 10
    tags = "ORBITAL"
    location = And [
        Contains And [
            Building "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        Contains And [
            Building "BLD_SHIPYARD_ORG_ORB_INC"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
    ]
    icon = "icons/building/shipyard-8.png"

BuildingType
    name = "BLD_SHIPYARD_ORG_XENO_FAC"
    description = "BLD_SHIPYARD_ORG_XENO_FAC_DESC"
    buildcost = 100
    buildtime = 10
    tags = "ORBITAL"
    location = And [
        Contains And [
            Building "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        Contains And [
            Building "BLD_SHIPYARD_ORG_ORB_INC"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
    ]
    icon = "icons/building/shipyard.png"

BuildingType
    name = "BLD_SHIPYARD_ENRG_COMP"
    description = "BLD_SHIPYARD_ENRG_COMP_DESC"
    buildcost = 200
    buildtime = 5
    tags = "ORBITAL"
    location = And [
        Contains And [
            Building "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
    ]
    icon = "icons/building/shipyard.png"

BuildingType
    name = "BLD_SHIPYARD_ENRG_SOLAR"
    description = "BLD_SHIPYARD_ENRG_SOLAR_DESC"
    buildcost = 1200
    buildtime = 5
    tags = "ORBITAL"
    location = And [
        Contains And [
            Building "BLD_SHIPYARD_ENRG_COMP"
            OwnedBy TheEmpire Source.Owner
        ]
        Contains And [
            Building "BLD_SHIPYARD_BASE"
            OwnedBy TheEmpire Source.Owner
        ]
        OwnedBy TheEmpire Source.Owner
    ]
    icon = "icons/building/shipyard.png"

BuildingType
    name = "BLD_BIOTERROR_PROJECTOR"
    description = "BLD_BIOTERROR_PROJECTOR_DESC"
    buildcost = 75
    buildtime = 15
    location = And [
        OwnedBy TheEmpire Source.Owner
        HasSpecial name = "RESONANT_MOON_SPECIAL"
        Not Contains Or [
            Building "BLD_CLONING_CENTER"
            Building "BLD_BIOTERROR_PROJECTOR"
        ]
    ]
    icon = "icons/building/bioterror_projector.png"

BuildingType
    name = "BLD_LIGHTHOUSE"
    description = "BLD_LIGHTHOUSE_DESC"
    buildcost = 25
    buildtime = 10
    location = OwnedBy TheEmpire Source.Owner
    effectsgroups =
        EffectsGroup
            scope = WithinDistance 0 Source
            activation = Source
            effects = SetStealth Value - 450
    icon = "icons/building/lighthouse.png"

BuildingType
    name = "BLD_HEAVY_MINE_PROCESSOR"
    description = "BLD_HEAVY_MINE_PROCESSOR_DESC"
    buildcost = 75
    buildtime = 1
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
    ]
    icon = "icons/building/heavy_mining_processor.png"

BuildingType
    name = "BLD_INDUSTRY_CENTER"
    description = "BLD_INDUSTRY_CENTER_DESC"
    buildcost = 75
    buildtime = 1
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
    ]
    effectsgroups = [
        EffectsGroup
            scope = And [
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                Focus "FOCUS_INDUSTRY"
                [[INFRA_CONDITION_INFRA]]
            ]
            activation = And [
                OwnerHasTech "PRO_INDUSTRY_CENTER_I"
                Not OwnerHasTech "PRO_INDUSTRY_CENTER_II"
            ]
            stackinggroup = "INDUSTRY_CENTER_STACK"
            effects = SetTargetIndustry Value + Target.Construction * [[INFRA_PRODUCTION_PER_INFRA]]

        EffectsGroup
            scope = And [
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                Focus "FOCUS_INDUSTRY"
                [[INFRA_CONDITION_POP]]
            ]
            activation = And [
                OwnerHasTech "PRO_INDUSTRY_CENTER_I"
                Not OwnerHasTech "PRO_INDUSTRY_CENTER_II"
            ]
            stackinggroup = "INDUSTRY_CENTER_STACK"
            effects = SetTargetIndustry Value + Target.Population * [[INFRA_PRODUCTION_PER_POP]]

        EffectsGroup
            scope = And [
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                Focus "FOCUS_INDUSTRY"
                [[INFRA_CONDITION_INFRA]]
            ]
            activation = And [
                OwnerHasTech "PRO_INDUSTRY_CENTER_II"
                Not OwnerHasTech "PRO_INDUSTRY_CENTER_III"
            ]
            stackinggroup = "INDUSTRY_CENTER_STACK"
            effects = SetTargetIndustry Value + Target.Construction * 2 * [[INFRA_PRODUCTION_PER_INFRA]]

        EffectsGroup
            scope = And [
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                Focus "FOCUS_INDUSTRY"
                [[INFRA_CONDITION_POP]]
            ]
            activation = And [
                OwnerHasTech "PRO_INDUSTRY_CENTER_II"
                Not OwnerHasTech "PRO_INDUSTRY_CENTER_III"
            ]
            stackinggroup = "INDUSTRY_CENTER_STACK"
            effects = SetTargetIndustry Value + Target.Population * 2 * [[INFRA_PRODUCTION_PER_POP]]

        EffectsGroup
            scope = And [
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                Focus "FOCUS_INDUSTRY"
                [[INFRA_CONDITION_INFRA]]
            ]
            activation = OwnerHasTech "PRO_INDUSTRY_CENTER_III"
            stackinggroup = "INDUSTRY_CENTER_STACK"
            effects = SetTargetIndustry Value + Target.Construction * 3 * [[INFRA_PRODUCTION_PER_INFRA]]

        EffectsGroup
            scope = And [
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                Focus "FOCUS_INDUSTRY"
                [[INFRA_CONDITION_POP]]
            ]
            activation = OwnerHasTech "PRO_INDUSTRY_CENTER_III"
            stackinggroup = "INDUSTRY_CENTER_STACK"
            effects = SetTargetIndustry Value + Target.Population * 3 * [[INFRA_PRODUCTION_PER_POP]]
    ]
    icon = ""

BuildingType
    name = "BLD_EXOBOT_SHIP"
    description = "BLD_EXOBOT_SHIP_DESC"
    buildcost = 50
    buildtime = 5
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
        ]
    effectsgroups = [
        EffectsGroup
            scope = And [
                Contains Source
                Planet
            ]
            effects = [
                CreateShip "SD_COLONY_SHIP" Source.Owner "SP_EXOBOT"
                GenerateSitRepMessage
                    message = "EFFECT_EXOBOT"
                    parameters = tag = "planet" data = Target.ID
                    empire = Source.Owner
                    
            ]

        EffectsGroup
            scope = Source
            effects = Destroy
    ]
    icon = "icons/species/robotic-01.png"

BuildingType
    name = "BLD_MEGALITH"
    description = "BLD_MEGALITH_DESC"
    buildcost = 250
    buildtime = 10
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
    ]
    effectsgroups = [
        EffectsGroup
            scope = Contains Source
            activation = Source
            stackinggroup = "BLD_MEGALITH_EFFECT"
            effects = [
                SetTargetConstruction Value + 30
                SetEmpireCapital
                SetIndustry Target.TargetIndustry
                SetTrade Target.TargetTrade
                SetResearch Target.TargetResearch
            ]

        EffectsGroup
            scope = And [
                OwnedBy TheEmpire Source.Owner
                TargetPopulation low = 1
            ]
            activation = Source
            stackinggroup = "BLD_MEGALITH_EFFECT"
            effects = SetTargetConstruction Value + 10
    ]
    icon = "icons/building/megalith.png"

BuildingType
    name = "BLD_COLLECTIVE_NET"
    description = "BLD_COLLECTIVE_NET_DESC"
    buildcost = 250
    buildtime = 10
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
    ]
    effectsgroups = [
        EffectsGroup
            scope = And [
                PopulationCenter
                OwnedBy TheEmpire Source.Owner
                Focus "FOCUS_INDUSTRY"
                [[POP_CONDITION_INFRA]]
            ]
            activation = Not WithinDistance 500 And [
                Ship
                Not Stationary
            ]
            stackinggroup = "BLD_COLLECTIVE_NET_INDUSTRY_EFFECT"
            effects = SetTargetIndustry Value + Target.Construction * [[POP_PRODUCTION_PER_INFRA]]

        EffectsGroup
            scope = And [
                PopulationCenter
                OwnedBy TheEmpire Source.Owner
                Focus "FOCUS_INDUSTRY"
                [[POP_CONDITION_POP]]
            ]
            activation = Not WithinDistance 500 And [
                Ship
                Not Stationary
            ]
            stackinggroup = "BLD_COLLECTIVE_NET_INDUSTRY_EFFECT"
            effects = SetTargetIndustry Value + Target.Population * [[POP_PRODUCTION_PER_POP]]

        EffectsGroup
            scope = And [
                PopulationCenter
                OwnedBy TheEmpire Source.Owner
                Focus "FOCUS_RESEARCH"
                [[POP_CONDITION_INFRA]]
            ]
            activation = Not WithinDistance 500 And [
                Ship
                Not Stationary
            ]
            stackinggroup = "BLD_COLLECTIVE_NET_RESEARCH_EFFECT"
            effects = SetTargetResearch Value + Target.Construction * 3.0 * [[POP_PRODUCTION_PER_INFRA]]

        EffectsGroup
            scope = And [
                PopulationCenter
                OwnedBy TheEmpire Source.Owner
                Focus "FOCUS_RESEARCH"
                [[POP_CONDITION_POP]]
            ]
            activation = Not WithinDistance 500 And [
                Ship
                Not Stationary
            ]
            stackinggroup = "BLD_COLLECTIVE_NET_RESEARCH_EFFECT"
            effects = SetTargetResearch Value + Target.Population * 3.0 * [[POP_PRODUCTION_PER_POP]]
    ]
    icon = ""

BuildingType
    name = "BLD_GENOME_BANK"
    description = "BLD_GENOME_BANK_DESC"
    buildcost = 15
    buildtime = 30
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
    ]
    icon = "icons/building/genome_bank.png"

BuildingType
    name = "BLD_SPACE_ELEVATOR"
    description = "BLD_SPACE_ELEVATOR_DESC"
    buildcost = 150
    buildtime = 5
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
    ]
    effectsgroups =
        EffectsGroup
            scope = Contains Source
            activation = Source
            effects = SetSupply Value * 3
    icon = ""

BuildingType
    name = "BLD_GAIA_TRANS"
    description = "BLD_GAIA_TRANS_DESC"
    buildcost = 48
    buildtime = 4
    location = And [
        OwnedBy TheEmpire Source.Owner
        Planet environment = Good
        Not Planet type = [Asteroids GasGiant]
    ]
    effectsgroups = [
        EffectsGroup
            scope = And [
                Contains Source
                Planet
            ]
            activation = Source
            effects = AddSpecial "GAIA_SPECIAL"

        EffectsGroup
            scope = Source
            activation = Source
            effects = Destroy
    ]
    icon = ""
    
BuildingType
    name = "BLD_ART_BLACK_HOLE"
    description = "BLD_ART_BLACK_HOLE_DESC"
    buildcost = 40
    buildtime = 10
    location = And [
        OwnedBy TheEmpire Source.Owner
        Star type = Red
    ]
    effectsgroups = [
        EffectsGroup
            scope = Contains Source
            activation = Star type = Red
            effects = SetStarType BlackHole

        EffectsGroup
            scope = Source
            activation = Source
            effects = Destroy
    ]
    icon = "icons/building/blackhole.png"

BuildingType
    name = "BLD_HYPER_DAM"
    description = "BLD_HYPER_DAM_DESC"
    buildcost = 250
    buildtime = 10
    tags = "ORBITAL"
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
    ]
    effectsgroups = [
        EffectsGroup
            scope = And [
                Focus "FOCUS_INDUSTRY"
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                [[INFRA_CONDITION_INFRA]]
            ]
            activation = Source
            stackinggroup = "BLD_HYPER_DAM_BONUS"
            effects = SetTargetIndustry Value + Target.Construction * 2 * [[INFRA_PRODUCTION_PER_INFRA]]

        EffectsGroup
            scope = And [
                Focus "FOCUS_INDUSTRY"
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                [[INFRA_CONDITION_POP]]
            ]
            activation = Source
            stackinggroup = "BLD_HYPER_DAM_BONUS"
            effects = SetTargetIndustry Value + Target.Population * 2 * [[INFRA_PRODUCTION_PER_POP]]

        EffectsGroup
            scope = And [
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                PopulationCenter
                Not Star type = BlackHole
                Focus "FOCUS_INDUSTRY"
            ]
            activation = Source
            effects = SetTargetPopulation Value - 5
    ]
    icon = "icons/building/blackhole.png"

BuildingType
    name = "BLD_SOL_ORB_GEN"
    description = "BLD_SOL_ORB_GEN_DESC"
    buildcost = 75
    buildtime = 5
    tags = "ORBITAL"
    location = OwnedBy TheEmpire Source.Owner
    effectsgroups = [
        EffectsGroup
            scope = And [
                ContainedBy Contains Source
                Focus "FOCUS_INDUSTRY"
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                [[STANDARD_CONDITION_INFRA]]
            ]
            activation = Star type = [Blue White]
            stackinggroup = "BLD_SOL_ORB_GEN_EFFECT"
            effects = SetTargetIndustry Value + Target.Construction * 2 * [[PRODUCTION_PER_INFRA]]

        EffectsGroup
            scope = And [
                ContainedBy Contains Source
                Focus "FOCUS_INDUSTRY"
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                [[STANDARD_CONDITION_POP]]
            ]
            activation = Star type = [Blue White]
            stackinggroup = "BLD_SOL_ORB_GEN_EFFECT"
            effects = SetTargetIndustry Value + Target.Population * 2 * [[PRODUCTION_PER_POP]]

        EffectsGroup
            scope = And [
                ContainedBy Contains Source
                Focus "FOCUS_INDUSTRY"
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                [[STANDARD_CONDITION_INFRA]]
            ]
            activation = And [
                Star type = [Yellow Orange]
                Not ResourceSupplyConnected Source.Owner And [
                    Building "BLD_SOL_ORB_GEN"
                    OwnedBy TheEmpire Source.Owner
                    Star type = [Blue White]
                ]
            ]
            stackinggroup = "BLD_SOL_ORB_GEN_EFFECT"
            effects = SetTargetIndustry Value + Target.Construction * [[PRODUCTION_PER_INFRA]]

        EffectsGroup
            scope = And [
                ContainedBy Contains Source
                Focus "FOCUS_INDUSTRY"
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                [[STANDARD_CONDITION_POP]]
            ]
            activation = And [
                Star type = [Yellow Orange]
                Not ResourceSupplyConnected Source.Owner And [
                    Building "BLD_SOL_ORB_GEN"
                    OwnedBy TheEmpire Source.Owner
                    Star type = [Blue White]
                ]
            ]
            stackinggroup = "BLD_SOL_ORB_GEN_EFFECT"
            effects = SetTargetIndustry Value + Target.Population * [[PRODUCTION_PER_POP]]

        EffectsGroup
            scope = And [
                ContainedBy Contains Source
                Focus "FOCUS_INDUSTRY"
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                [[STANDARD_CONDITION_INFRA]]
            ]
            activation = And [
                Star type = Red
                Not ResourceSupplyConnected Source.Owner And [
                    Building "BLD_SOL_ORB_GEN"
                    OwnedBy TheEmpire Source.Owner
                    Star type = [Yellow Orange Blue White]
                ]
            ]
            stackinggroup = "BLD_SOL_ORB_GEN_EFFECT"
            effects = SetTargetIndustry Value + Target.Construction * 0.5 * [[PRODUCTION_PER_INFRA]]

        EffectsGroup
            scope = And [
                ContainedBy Contains Source
                Focus "FOCUS_INDUSTRY"
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                [[STANDARD_CONDITION_POP]]
            ]
            activation = And [
                Star type = Red
                Not ResourceSupplyConnected Source.Owner And [
                    Building "BLD_SOL_ORB_GEN"
                    OwnedBy TheEmpire Source.Owner
                    Star type = [Yellow Orange Blue White]
                ]
            ]
            stackinggroup = "BLD_SOL_ORB_GEN_EFFECT"
            effects = SetTargetIndustry Value + Target.Population * 0.5 * [[PRODUCTION_PER_POP]]
    ]
    icon = "icons/building/miniature_sun.png"
/*
BuildingType
    name = "BLD_CLONING_CENTER"
    description = "BLD_CLONING_CENTER_DESC"
    buildcost = 100
    buildtime = 5
    location = And [
        OwnedBy TheEmpire Source.Owner
        Not Contains Or [
            Building "BLD_CLONING_CENTER"
            Building "BLD_BIOTERROR_PROJECTOR"
        ]
    ]
    icon = ""
*/
BuildingType
    name = "BLD_TERRAFORM"
    description = "BLD_TERRAFORM_DESC"
    buildcost = 72
    buildtime = 1
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
        Not Planet type = [Asteroids GasGiant]
        Not Planet environment = [Uninhabitable Good]
        ]
    effectsgroups = [
        EffectsGroup
            scope = And [
                Contains Source
                Planet
            ]
            effects = [
                SetPlanetType Target.NextBetterPlanetType
                GenerateSitRepMessage
                    message = "EFFECT_TERRAFORM"
                    parameters = tag = "planet" data = Target.ID
                    empire = Source.Owner
            ]

        EffectsGroup
            scope = Source
            effects = Destroy
    ]
    icon = ""
    
/*  Remote Terraforming is broken badly so hidden
BuildingType
    name = "BLD_REMOTE_TERRAFORM"
    description = "BLD_REMOTE_TERRAFORM_DESC"
    buildcost = 6
    buildtime = 16
    location = And [
        OwnedBy TheEmpire Source.Owner
        Not Planet environment = [Uninhabitable Good]
        Not Planet type = [Asteroids GasGiant]
    ]
    effectsgroups = [
        EffectsGroup
            scope = And [
                Contains Source
                Planet
            ]
            effects = SetPlanetType Target.NextBetterPlanetType

        EffectsGroup
            scope = Source
            effects = Destroy
    ]
    icon = ""
*/
BuildingType
    name = "BLD_NEUTRONIUM_EXTRACTOR"
    description = "BLD_NEUTRONIUM_EXTRACTOR_DESC"
    buildcost = 25
    buildtime = 8
    tags = "ORBITAL"
    location = Star type = Neutron
    icon = "icons/building/neutronium-forge.png"

BuildingType
    name = "BLD_NEUTRONIUM_FORGE"
    description = "BLD_NEUTRONIUM_FORGE_DESC"
    buildcost = 100
    buildtime = 1
    tags = "ORBITAL"
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
    ]
    icon = "icons/building/neutronium-forge.png"

BuildingType
    name = "BLD_NEUTRONIUM_SYNTH"
    description = "BLD_NEUTRONIUM_SYNTH_DESC"
    buildcost = 1200
    buildtime = 10
    location = OwnedBy TheEmpire Source.Owner
    icon = "icons/building/neutronium-forge.png"

BuildingType
    name = "BLD_CONC_CAMP"
    description = "BLD_CONC_CAMP_DESC"
    buildcost = 5
    buildtime = 1
    location = OwnedBy TheEmpire Source.Owner
    effectsgroups = [
        EffectsGroup
            scope = Contains Source
            activation = ContainedBy And [
                OwnedBy TheEmpire Source.Owner
                PopulationCenter
            ]
            effects = [
                SetPopulation Target.Population - 3
                SetTargetIndustry Value + Target.Population * 10 * [[PRODUCTION_PER_POP]]
                SetIndustry Target.TargetIndustry
            ]

        EffectsGroup
            scope = Source
            activation = Not OwnedBy TheEmpire Source.Owner
            effects = Destroy
    ]
    icon = "icons/building/concentration-camp.png"
/*
BuildingType
    name = "BLD_INDUSTRY_FARM"
    description = "BLD_INDUSTRY_FARM_DESC"
    buildcost = 4
    buildtime = 25
    location = And [
        OwnedBy TheEmpire Source.Owner
        TargetPopulation low = 1
    ]
    icon = ""
*/
BuildingType
    name = "BLD_BLACK_HOLE_POW_GEN"
    description = "BLD_BLACK_HOLE_POW_GEN_DESC"
    buildcost = 250
    buildtime = 10
    tags = "ORBITAL"
    location = And [
        OwnedBy TheEmpire Source.Owner
        Star type = BlackHole
    ]
    effectsgroups = [
        EffectsGroup
            scope = And [
                Focus "FOCUS_INDUSTRY"
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                [[STANDARD_CONDITION_INFRA]]
            ]
            activation = Star type = BlackHole
            stackinggroup = "BLD_BLACK_HOLE_POW_GEN_PRIMARY_EFFECT"
            effects = SetTargetIndustry Value + Target.Construction * 4 * [[PRODUCTION_PER_INFRA]]

        EffectsGroup
            scope = And [
                Focus "FOCUS_INDUSTRY"
                OwnedBy TheEmpire Source.Owner
                ResourceSupplyConnected Source.Owner Source
                [[STANDARD_CONDITION_POP]]
            ]
            activation = Star type = BlackHole
            stackinggroup = "BLD_BLACK_HOLE_POW_GEN_PRIMARY_EFFECT"
            effects = SetTargetIndustry Value + Target.Population * 4 * [[PRODUCTION_PER_POP]]
    ]
    icon = "icons/building/blackhole.png"

BuildingType
    name = "BLD_REPLICATORS"
    description = "BLD_REPLICATORS_DESC"
    buildcost = 125
    buildtime = 4
    location = OwnedBy TheEmpire Source.Owner
    icon = ""

BuildingType
    name = "BLD_PLANET_DRIVE"
    description = "BLD_PLANET_DRIVE_DESC"
    buildcost = 125
    buildtime = 5
    location = And [
        OwnedBy TheEmpire Source.Owner
        Not Planet type = Asteroids
    ]
    icon = ""

BuildingType
    name = "BLD_PLANET_BEACON"
    description = "BLD_PLANET_BEACON_DESC"
    buildcost = 1
    buildtime = 1
    location = OwnedBy TheEmpire Source.Owner
    effectsgroups =
        EffectsGroup
            scope = Source
            activation = WithinStarlaneJumps 1 Building name = "BLD_PLANET_DRIVE"
            effects = Destroy
    icon = "icons/building/beacon.png"

BuildingType
    name = "BLD_ART_PLANET"
    description = "BLD_ART_PLANET_DESC"
    buildcost = 2500
    buildtime = 1
    location = And [
        OwnedBy TheEmpire Source.Owner
        Planet type = [Asteroids GasGiant]
    ]
    effectsgroups = [
        EffectsGroup
            scope = Contains Source
            activation = Source
            effects = SetPlanetType Barren

        EffectsGroup
            scope = Source
            activation = Source
            effects = Destroy
    ]
    icon = ""

BuildingType
    name = "BLD_ART_MOON"
    description = "BLD_ART_MOON_DESC"
    buildcost = 250
    buildtime = 1
    location = And [
        OwnedBy TheEmpire Source.Owner
        Not Planet type = [Asteroids GasGiant]
    ]
    effectsgroups =
        EffectsGroup
            scope = And [
                Contains Source
                Planet
            ]
            activation = Source
            effects = AddSpecial "RESONANT_MOON_SPECIAL"
    icon = ""

BuildingType
    name = "BLD_TRANSFORMER"
    description = "BLD_TRANSFORMER_DESC"
    buildcost = 100
    buildtime = 15
    location = OwnedBy TheEmpire Source.Owner
    icon = ""

BuildingType
    name = "BLD_GATEWAY_VOID"
    description = "BLD_GATEWAY_VOID_DESC"
    buildcost = 45
    buildtime = 10
    location = OwnedBy TheEmpire Source.Owner
    effectsgroups = [
        EffectsGroup
            scope = And [
                ContainedBy Contains Source
                Fleet
            ]
            activation = Source
            effects = [
                Destroy
                GenerateSitRepMessage
                    message = "EFFECT_GATEWAY_VOID_DESTROY"
                    parameters = [
                        tag = "buildingtype" data = "BLD_GATEWAY_VOID"
                        tag = "planet" data = Source.PlanetID
                        tag = "fleet" data = Target.ID
                    ]
                    empire = Source.Owner
            ]
        EffectsGroup
            scope = And [
                ContainedBy Contains Source
                PopulationCenter
            ]
            activation = Source
            effects = SetTargetPopulation 0.1

        EffectsGroup
            scope = ContainedBy Contains Source
            activation = Source
            effects = SetStealth 1500
    ]
    icon = ""

BuildingType
    name = "BLD_ENCLAVE_VOID"
    description = "BLD_ENCLAVE_VOID_DESC"
    buildcost = 100
    buildtime = 3
    location = OwnedBy TheEmpire Source.Owner
    effectsgroups = [
        EffectsGroup
            scope = And [
                OwnedBy TheEmpire Source.Owner
                Focus "FOCUS_RESEARCH"
                [[POP_CONDITION_INFRA]]
            ]
            activation = Source
            stackinggroup = "BLD_ENCLAVE_VOID_STACK"
            effects = SetTargetResearch Value + Target.Construction * [[POP_PRODUCTION_PER_INFRA]]

        EffectsGroup
            scope = And [
                OwnedBy TheEmpire Source.Owner
                Focus "FOCUS_RESEARCH"
                [[POP_CONDITION_POP]]
            ]
            activation = Source
            stackinggroup = "BLD_ENCLAVE_VOID_STACK"
            effects = SetTargetResearch Value + Target.Population * [[POP_PRODUCTION_PER_POP]]
    ]
    icon = ""

BuildingType
    name = "BLD_PLANET_CLOAK"
    description = "BLD_PLANET_CLOAK_DESC"
    buildcost = 150
    buildtime = 8
    location = OwnedBy TheEmpire Source.Owner
    icon = ""

BuildingType
    name = "BLD_SPATIAL_DISTORT_GEN"
    description = "BLD_SPATIAL_DISTORT_GEN_DESC"
    buildcost = 30
    buildtime = 10
    location = OwnedBy TheEmpire Source.Owner
    icon = ""

BuildingType
    name = "BLD_STARGATE"
    description = "BLD_STARGATE_DESC"
    buildcost = 125
    buildtime = 5
    tags = "ORBITAL"
    location = OwnedBy TheEmpire Source.Owner
    effectsgroups =
        EffectsGroup
            scope = And [
                ContainedBy Contains Source
                Fleet
                OwnedBy TheEmpire Source.Owner
            ]
            activation = And [
                ContainedBy Contains Building "BLD_STARGATE_ACTIVATOR"
                Focus "FOCUS_STARGATE"
            ]
            effects = MoveTo And [
                Focus "FOCUS_STARGATE"
                Contains Building "BLD_STARGATE_BEACON"
                OwnedBy TheEmpire Source.Owner
            ]
    icon = ""

BuildingType
    name = "BLD_STARGATE_ACTIVATOR"
    description = "BLD_STARGATE_ACTIVATOR_DESC"
    buildcost = 1
    buildtime = 1
    location = OwnedBy TheEmpire Source.Owner
    effectsgroups =
        EffectsGroup
            scope = Source
            activation = Source
            effects = Destroy
    icon = ""

BuildingType
    name = "BLD_STARGATE_BEACON"
    description = "BLD_STARGATE_BEACON_DESC"
    buildcost = 1
    buildtime = 1
    location = OwnedBy TheEmpire Source.Owner
    effectsgroups =
        EffectsGroup
            scope = Source
            activation = Source
            effects = Destroy
    icon = "icons/building/beacon.png"

BuildingType
    name = "BLD_GAS_GIANT_GEN"
    description = "BLD_GAS_GIANT_GEN_DESC"
    buildcost = 25
    buildtime = 3
    tags = "ORBITAL"
    location = And [
        OwnedBy TheEmpire Source.Owner
        Planet type = GasGiant
    ]
    effectsgroups = [
        EffectsGroup
            scope = And [
                ContainedBy Contains Source
                Focus "FOCUS_INDUSTRY"
            ]
            effects = SetTargetIndustry Value + 10
    ]
    icon = ""

BuildingType
    name = "BLD_COLONY_BASE"
    description = "BLD_COLONY_BASE_DESC"
    buildcost = 45
    buildtime = 1
    location = And [
        Population low = 3
        OwnedBy TheEmpire Source.Owner
    ]
    effectsgroups = [
        EffectsGroup
            scope = Source
            activation = Source
            effects = CreateShip "SD_COLONY_BASE" Source.Owner Source.Planet.Species

        EffectsGroup
            scope = Source
            activation = Source
            effects = Destroy
    ]
    icon = ""

BuildingType
    name = "BLD_EXPERIMENTOR_OUTPOST"
    description = "BLD_EXPERIMENTOR_OUTPOST_DESC"
    buildcost = 1
    buildtime = 1
    captureresult = destroy
    location = All
    effectsgroups = [
        EffectsGroup
            scope = Or [
                Source
                And [
                    Contains Source
                    Planet
                ]
            ]
            effects = SetStealth Value + 1500

        EffectsGroup
            scope = Or [
                And [
                    Contains Source
                    System
                ]
                And [
                    ContainedBy Contains Source
                    Not Source
                    Planet
                ]
            ]
            effects = SetStealth Value + 600

        EffectsGroup
            scope = And [
                System
                Contains Source
            ]
            effects = AddSpecial "EXPERIMENTOR_OUTPOST_SPECIAL"

        EffectsGroup
            scope = Source
            activation = Not ContainedBy Contains Monster
            effects = RemoveStarlanes WithinStarlaneJumps 1 Source

        EffectsGroup
            scope = Source
            activation = And [
                Turn low = 200 high = 235
                Random 0.2
            ]
            effects = [
                CreateShip "SM_BLACK_KRAKEN" Source.Owner
                CreateShip "SM_BLACK_KRAKEN" Source.Owner
                CreateShip "SM_BLACK_KRAKEN" Source.Owner
                CreateShip "SM_BLACK_KRAKEN" Source.Owner
                CreateShip "SM_BLACK_KRAKEN" Source.Owner
            ]

        EffectsGroup
            scope = Source
            activation = And [
                Turn low = 235
                Random 0.1
            ]
            effects = [
                CreateShip "SM_BLACK_KRAKEN" Source.Owner
                CreateShip "SM_BLACK_KRAKEN" Source.Owner
            ]

        EffectsGroup
            scope = Source
            activation = And [
                Turn low = 230 high = 270
                Random 0.2
            ]
            effects = [
                CreateShip "SM_BLOATED_JUGGERNAUT" Source.Owner
                CreateShip "SM_BLOATED_JUGGERNAUT" Source.Owner
                CreateShip "SM_BLOATED_JUGGERNAUT" Source.Owner
                CreateShip "SM_BLOATED_JUGGERNAUT" Source.Owner
                CreateShip "SM_BLOATED_JUGGERNAUT" Source.Owner
            ]

        EffectsGroup
            scope = Source
            activation = And [
                Turn low = 270
                Random 0.1
            ]
            effects = [
                CreateShip "SM_BLOATED_JUGGERNAUT" Source.Owner
                CreateShip "SM_BLOATED_JUGGERNAUT" Source.Owner
            ]

        EffectsGroup
            scope = Source
            activation = And [
                Turn low = 265 high = 290
                Random 0.2
            ]
            effects = [
                CreateShip "SM_PSIONIC_SNOWFLAKE" Source.Owner
                CreateShip "SM_PSIONIC_SNOWFLAKE" Source.Owner
                CreateShip "SM_PSIONIC_SNOWFLAKE" Source.Owner
                CreateShip "SM_PSIONIC_SNOWFLAKE" Source.Owner
                CreateShip "SM_PSIONIC_SNOWFLAKE" Source.Owner
            ]

        EffectsGroup
            scope = Source
            activation = And [
                Turn low = 330
                Random 0.1
            ]
            effects = [
                CreateShip "SM_PSIONIC_SNOWFLAKE" Source.Owner
                CreateShip "SM_PSIONIC_SNOWFLAKE" Source.Owner
            ]

        EffectsGroup
            scope = Source
            activation = And [
                Turn low = 310
                Random 0.2
            ]
            effects = [
                CreateShip "SM_COSMIC_DRAGON" Source.Owner
                CreateShip "SM_COSMIC_DRAGON" Source.Owner
                CreateShip "SM_COSMIC_DRAGON" Source.Owner
            ]

        EffectsGroup
            scope = Source
            activation = ContainedBy Contains Monster
            effects = AddStarlanes NumberOf 1 And [
                WithinDistance 100 Source
                System
            ]
    ]                
    icon = ""

BuildingType
    name = "BLD_NOVA_BOMB_ACTIVATOR"
    description = "BLD_NOVA_BOMB_ACTIVATOR_DESC"
    buildcost = 1
    buildtime = 1
    location = All
    effectsgroups =
        EffectsGroup
            scope = Source
            effects = Destroy
    icon = ""
/*    
BuildingType
    name = "BLD_SUPER_TESTERS"
    description = "BLD_SUPER_TESTERS_DESC"
    buildcost = 1
    buildtime = 1
    location = Planet
    effectsgroups = Effectsgroup
        scope = And [
            Planet
            Contains Source
        ]
        effects = SetSpecies name = "SP_SUPER_TEST"
            
    icon = "icons/species/other-04.png"


BuildingType
    name = "BLD_ORBITAL_FARM"
    description = "BLD_ORBITAL_FARM_DESC"
    buildcost = 60
    buildtime = 20
    tags = "ORBITAL"
    location = And [
        OwnedBy TheEmpire Source.Owner
        Planet
    ]
    icon = ""
*/


